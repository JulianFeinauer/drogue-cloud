{{- if .Values.services.console.enabled }}
kind: Service
apiVersion: v1
metadata:
  name: console-backend
  labels:
    app: console-backend
spec:
  selector:
    app: console-backend
  ports:
    - name: endpoint
      protocol: TCP
      port: 8080
      targetPort: endpoint
{{- if and ( eq .Values.useLoadBalancer true ) ( ne .Values.platform "openshift" ) }}
  type: LoadBalancer
{{- else }}
  type: NodePort
{{- end }}
{{- end }}
